# dyson-orca-tools
Python-based tool for computing Dyson orbitals from CASCI and CASSCF wavefunctions generated by the ORCA quantum chemistry package. It parses ORCAâ€™s JSON-formatted wavefunction outputs to extract and process the relevant one-electron transition amplitudes.


## Installation
To install the `dyson-orca-tools` package, follow these steps:

```shell
git clone https://github.com/AndresOrtegaGuerrero/dyson-orca-tools.git
cd dyson-orca-tools
pip install -e .
```

## Usage

```shell
dyson_orca_tools -i initial.json -f final.json -p params.json
```

`params.json` should be a json file with the information containing the spin CI coefficients

Sample input

```json
{
  "parameters": {
    "initial": {
      "spin_ci": {
        "[2200]": 0.957520133,
        "[2020]": -0.224387606,
        "[dduu]": -0.018039314,
        "[dudu]": -0.066820934,
        "[uddu]": 0.084860248,
        "[duud]": 0.084860248,
        "[udud]": -0.066820934,
        "[uudd]": -0.018039314,
        "[0202]": -0.063982267
      }
    },
    "final": {
      "spin_ci": {
        "[02u2]": -0.051431580,
        "[du2u]": 0.055430255,
        "[ud2u]": -0.061033518,
        "[uu2d]": 0.005603263,
        "[20u2]": -0.052026571,
        "[22u0]": 0.993890846
      }
    }
  }
}
```



## ðŸ§ª ORCA Instructions
To extract the required data from your CASSCF or CASCI calculations in ORCA, you must use the utility program `orca_2json`.

This tool converts ORCA wavefunction files into structured `.json` format for downstream processing.

### ðŸ”§ Configuration File
You can create a basename-dependent configuration file, named:

```shell
BaseName.json.conf
```
#### ðŸ“Œ Notes
Replace BaseName with the actual name of your ORCA Basename described in your input (e.g., mol.gbw â†’ mol.json.conf)

This file tells `orca_2json` which parts of the wavefunction to extract. You must include the molecular orbital coefficients and the overlap matrix.

Here is a recommended configuration:

```json
{
  "MOCoefficients": true,
  "Basisset": true,
  "MullikenCharge": false,
  "LoewdinCharge": false,
  "1elIntegrals": ["S"],
  "JSONFormats": ["json"]
}
```

After that you can obtain json file from the calculations

```bash
orca_2json mol.gbw
```


## Contact

If you have any questions or suggestions, feel free to reach out:

- **Authors**: Andres Ortega-Guerrero, GonÃ§alo Catarina
- **Email**: [andres.ortega-guerrero@empa.ch](andres.ortega-guerrero@empa.ch) , [goncalo.catarina@empa.ch](goncalo.catarina@empa.ch)
